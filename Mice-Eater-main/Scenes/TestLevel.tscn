[gd_scene load_steps=24 format=3 uid="uid://c2s7r10ul6nc5"]

[ext_resource type="Texture2D" uid="uid://bwmf76ti5o1qh" path="res://Imports/key.png" id="1_02axg"]
[ext_resource type="PackedScene" uid="uid://cjbi3o5v5u4nh" path="res://Prefabs/Test/test_cctv.tscn" id="1_ko630"]
[ext_resource type="PackedScene" uid="uid://bpdwao6x67lmg" path="res://Prefabs/Test/test_guard.tscn" id="2_p17od"]
[ext_resource type="Texture2D" uid="uid://uvo8ivkvuuys" path="res://Imports/elevator.png" id="3_ciooo"]
[ext_resource type="PackedScene" uid="uid://btr8mpar2vywo" path="res://Prefabs/Test/test_player.tscn" id="3_sbpmo"]
[ext_resource type="Texture2D" uid="uid://cx76q6t4wai20" path="res://Imports/a0692b84b56733b.png" id="4_7w4cg"]
[ext_resource type="Material" uid="uid://6trg5eqcogin" path="res://Materials/Test/black_grid.tres" id="4_tewl6"]
[ext_resource type="Texture2D" uid="uid://n8437jffxkun" path="res://Imports/kenney_prototype-textures/PNG/Dark/texture_01.png" id="5_us3sx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ig4yj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ec1uy"]
albedo_texture = ExtResource("5_us3sx")

[sub_resource type="PlaneMesh" id="PlaneMesh_um03u"]
material = SubResource("StandardMaterial3D_ec1uy")
size = Vector2(10, 10)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_u7yqq"]
data = PackedVector3Array(5, 0, 5, -5, 0, 5, 5, 0, -5, -5, 0, 5, -5, 0, -5, 5, 0, -5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_avkj6"]
albedo_texture = ExtResource("5_us3sx")

[sub_resource type="PlaneMesh" id="PlaneMesh_4kjv0"]
material = SubResource("StandardMaterial3D_avkj6")
size = Vector2(10, 50)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5elr0"]
data = PackedVector3Array(5, 0, 25, -5, 0, 25, 5, 0, -25, -5, 0, 25, -5, 0, -25, 5, 0, -25)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_557e8"]
data = PackedVector3Array(5, 0, 25, -5, 0, 25, 5, 0, -25, -5, 0, 25, -5, 0, -25, 5, 0, -25)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2hxsi"]
albedo_texture = ExtResource("5_us3sx")

[sub_resource type="PlaneMesh" id="PlaneMesh_vc72d"]
material = SubResource("StandardMaterial3D_2hxsi")
size = Vector2(30, 10)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_c2wm6"]
data = PackedVector3Array(35, 0, 5, -35, 0, 5, 35, 0, -5, -35, 0, 5, -35, 0, -5, 35, 0, -5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_fv421"]
data = PackedVector3Array(35, 0, 5, -35, 0, 5, 35, 0, -5, -35, 0, 5, -35, 0, -5, 35, 0, -5)

[sub_resource type="PlaneMesh" id="PlaneMesh_5h6mr"]
material = SubResource("StandardMaterial3D_ec1uy")
size = Vector2(10, 15)

[sub_resource type="PlaneMesh" id="PlaneMesh_0f84g"]
material = SubResource("StandardMaterial3D_2hxsi")
size = Vector2(30, 5)

[sub_resource type="PlaneMesh" id="PlaneMesh_mqtmv"]
material = SubResource("StandardMaterial3D_2hxsi")
size = Vector2(30, 10)

[node name="TestLevel" type="Node3D"]

[node name="Environment" type="Node" parent="."]

[node name="Door" type="Sprite3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.3081, 3.52479, 4.99034)
pixel_size = 0.006
texture = ExtResource("4_7w4cg")

[node name="Key" type="Sprite3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 83.1546, 2.2473, -7.5137)
pixel_size = 0.003
texture = ExtResource("1_02axg")

[node name="Elevator" type="Sprite3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.9689, 4.85602, -64.9575)
pixel_size = 0.02
texture = ExtResource("3_ciooo")

[node name="Player" type="Node" parent="."]

[node name="Player" parent="Player" instance=ExtResource("3_sbpmo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.8296, 0.784185, 3.10071)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.27143, 4.27129, -0.125722)
use_collision = true

[node name="Box" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.8239, 0.522, -27.0755)
size = Vector3(10.1711, 9.58545, 14.3839)
material = ExtResource("4_tewl6")

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D/Box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.36982, -0.00900698, -5.0705)
operation = 2
size = Vector3(5.5741, 9.62873, 4.33096)
material = ExtResource("4_tewl6")

[node name="Box2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34.8356, 0.522, -24.87)
size = Vector3(10.1711, 9.58545, 9.9729)
material = ExtResource("4_tewl6")

[node name="Box3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.8239, 0.522, -44.91)
size = Vector3(10.1711, 9.58545, 10.1426)
material = ExtResource("4_tewl6")

[node name="Box4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34.8888, 0.372785, -47.0668)
size = Vector3(10.1711, 9.58545, 14.3839)
material = ExtResource("4_tewl6")

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D/Box4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.36982, -0.00900698, -5.0705)
operation = 2
size = Vector3(5.5741, 9.62873, 4.33096)
material = ExtResource("4_tewl6")

[node name="Box5" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43.4082, -1.75348, -59.4119)
size = Vector3(3.97313, 5.03449, 5.56639)
material = ExtResource("4_tewl6")

[node name="Box6" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.6085, -1.17406, -18.2202)
size = Vector3(3.97313, 6.19333, 5.03624)
material = ExtResource("4_tewl6")

[node name="Box7" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 46.4243, -1.3612, -14.3588)
size = Vector3(7.72076, 5.81906, 3.6424)
material = ExtResource("4_tewl6")

[node name="Box8" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.5712, -1.02708, -7.69883)
size = Vector3(9.33014, 6.48729, 5.03624)
material = ExtResource("4_tewl6")

[node name="Box8" type="CSGBox3D" parent="CSGCombiner3D/Box8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.1632, 2.4321, 2.25708)
size = Vector3(11.344, 11.3353, 9.40536)
material = ExtResource("4_tewl6")

[node name="Box8" type="CSGBox3D" parent="CSGCombiner3D/Box8/Box8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.189213, -4.63804, -0.320525)
operation = 2
size = Vector3(8.1697, 3.5, 10.9606)
material = ExtResource("4_tewl6")

[node name="Box9" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.73949, -1.17406, -46.0516)
size = Vector3(3.97313, 6.19333, 5.03624)
material = ExtResource("4_tewl6")

[node name="Uscita con chiave" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.7365, -0.489055, -66.2641)
size = Vector3(12.6785, 7.56334, 2.81839)
material = ExtResource("4_tewl6")

[node name="Pozzanghera" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.3613, -4.30762, -14.9927)
size = Vector3(5.87768, 0.346122, 8.71286)
material = SubResource("StandardMaterial3D_ig4yj")

[node name="Pozzanghera2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 44.7747, -4.30762, -43.1771)
size = Vector3(8.18271, 0.346122, 5.70897)
material = SubResource("StandardMaterial3D_ig4yj")

[node name="Pozzanghera3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.8578, -4.30762, -57.4568)
size = Vector3(9.6673, 0.346122, 5.03563)
material = SubResource("StandardMaterial3D_ig4yj")

[node name="Box10" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 65.2793, -0.743564, -4.50984)
size = Vector3(21.2699, 7.05432, 6.76373)
material = ExtResource("4_tewl6")

[node name="Box7" type="CSGBox3D" parent="CSGCombiner3D/Box10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.51514, 0.640517, -2.83255)
operation = 2
size = Vector3(8.66409, 11.4792, 4.60147)
material = ExtResource("4_tewl6")

[node name="Box8" type="CSGBox3D" parent="CSGCombiner3D/Box10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.83003, -2.80786, -1.94195)
size = Vector3(2.95096, 4.28065, 2.97306)
material = ExtResource("4_tewl6")

[node name="Box9" type="CSGBox3D" parent="CSGCombiner3D/Box10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.20708, -2.80786, -4.15384)
size = Vector3(3.53908, 4.28065, 3.77327)
material = ExtResource("4_tewl6")

[node name="Flooring" type="Node" parent="."]

[node name="Floor5" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 2.08165e-12, 2.08165e-12)
mesh = SubResource("PlaneMesh_um03u")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor5"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor5/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_u7yqq")

[node name="Floor7" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 2.08165e-12, -20)
mesh = SubResource("PlaneMesh_4kjv0")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor7"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor7/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5elr0")

[node name="Floor8" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 50, 2.08165e-12, -30)
mesh = SubResource("PlaneMesh_4kjv0")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor8"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor8/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_557e8")

[node name="Floor9" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2.08165e-12, -55)
mesh = SubResource("PlaneMesh_vc72d")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor9"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor9/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_c2wm6")

[node name="Floor10" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2.08165e-12, -15)
mesh = SubResource("PlaneMesh_vc72d")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor10"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor10/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_fv421")

[node name="Floor11" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 50, 2.08165e-12, -60)
mesh = SubResource("PlaneMesh_um03u")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor11"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor11/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_u7yqq")

[node name="Floor12" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2.08165e-12, -35)
mesh = SubResource("PlaneMesh_vc72d")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor12"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor12/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_fv421")

[node name="Floor13" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2.08165e-12, -45)
mesh = SubResource("PlaneMesh_um03u")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor13"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor13/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_u7yqq")

[node name="Floor14" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 2.08165e-12, -52.5)
mesh = SubResource("PlaneMesh_5h6mr")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor14"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor14/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_u7yqq")

[node name="Floor15" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2.08165e-12, -25)
mesh = SubResource("PlaneMesh_um03u")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor15"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor15/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_u7yqq")

[node name="Floor16" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2.08165e-12, -62.5)
mesh = SubResource("PlaneMesh_0f84g")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor16"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor16/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_fv421")

[node name="Floor17" type="MeshInstance3D" parent="Flooring"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 70, 2.08165e-12, -10)
mesh = SubResource("PlaneMesh_mqtmv")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Flooring/Floor17"]
collision_layer = 9

[node name="CollisionShape3D" type="CollisionShape3D" parent="Flooring/Floor17/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_c2wm6")

[node name="Enemies" type="Node" parent="."]

[node name="CCTV" parent="Enemies" instance=ExtResource("1_ko630")]
transform = Transform3D(-1, 3.48787e-16, 8.74227e-08, 3.48787e-16, 1, -3.48787e-16, -8.74227e-08, -3.48787e-16, -1, 7.67078, 7.11117, -59.3936)
from = -180.0
to = -90.0

[node name="Guard" parent="Enemies" instance=ExtResource("2_p17od")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 12.2199, 1, -54.0148)

[node name="Guard2" parent="Enemies" instance=ExtResource("2_p17od")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 49.9765, 1, -18.4862)
